(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),s=n(11),i=n.n(s),o=(n(113),n(18)),l=n.n(o),j=n(33),u=n(16),b=(n(73),n(56)),d=n(167),O=n(168),h=n(169),x=n(170),p=n(94),f=n(157),m=n(15),v=n(187),g=n(189),k=n(166),w=n(162),y=n(161),C=function(e){var t=e.loginUser,n=e.classes,r=Object(a.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)({}),j=Object(u.a)(l,2),b=j[0],d=j[1],O=function(){o(!1),d({})};return Object(c.jsxs)("div",{children:[Object(c.jsx)(f.a,{color:"inherit",classname:n,onClick:function(){o(!0)},children:"Login"}),Object(c.jsxs)(g.a,{open:i,onClose:O,"aria-labelledby":"form-dialog-title",children:[Object(c.jsx)(y.a,{id:"form-dialog-title",children:"Login"}),Object(c.jsx)(w.a,{children:Object(c.jsxs)("form",{children:[Object(c.jsx)(v.a,{autoFocus:!0,id:"name",label:"Name",type:"text",fullWidth:!0,required:!0,value:b.name,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{name:e.target.value}))},className:{marginBottom:"50px"}}),Object(c.jsx)(v.a,{autoFocus:!0,id:"password",label:"Password",type:"text",fullWidth:!0,required:!0,value:b.password,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{password:e.target.value}))}})]})}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(f.a,{onClick:function(){t(b),O()},color:"primary",children:"Accept"}),Object(c.jsx)(f.a,{onClick:O,color:"primary",children:"Cancel"})]})]})]})},S=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),I=function(e){var t=S(),n=e.loginUser,a=e.isAuth,r=e.logout;return Object(c.jsx)(O.a,{position:"static",children:Object(c.jsx)(h.a,{children:Object(c.jsxs)(x.a,{children:[Object(c.jsx)(p.a,{component:b.b,to:"/",style:{textDecoration:"none",color:"white"},variant:"h6",className:t.title,children:"Clockware"}),a?Object(c.jsx)(f.a,{color:"inherit",component:b.b,to:"/admin",className:t.menuButton,children:"Admin"}):null,a?Object(c.jsx)(f.a,{color:"inherit",onClick:r,className:t.menuButton,children:"Logout"}):Object(c.jsx)(C,{loginUser:n,classes:t.menuButton})]})})})},N=function(){return Object(c.jsx)(h.a,{children:Object(c.jsx)("h1",{children:"Main Page"})})},P=n(13),T=n(92),E=n(183),A=n(185),B=n(182),F=n(53),J=n(91),U=n(177),z=n(122),D=n(178),G=n(179),L=n(180),M=n(174),q=n(171),R=n(181),W=n(188),Q=function(e){var t=e.data;return Object(c.jsx)(a.Fragment,{children:t.map((function(e,t){var n=Object(u.a)(e,2),a=(n[0],n[1]);return Object(c.jsx)(q.a,{children:a},t)}))})},V=n(88),$=n.n(V),_=n(89),H=n.n(_),K=n(191),X=n(172),Y=function(e){var t=e.handleClick,n=e.icon,a=e.title,r=e.disabled,s=e.colSpan;return Object(c.jsx)(q.a,{component:"th",align:"right",colSpan:s,children:Object(c.jsx)(K.a,{title:a,onClick:t,children:Object(c.jsx)(X.a,{"aria-label":a,disabled:r,children:n})})})};Y.defaultProps={disabled:!1,colSpan:1};var Z=Y,ee=n(173),te=function(e){var t=r.a.useState(!1),n=Object(u.a)(t,2),s=n[0],i=n[1],o=e.icon,l=e.title,j=e.acceptFunc,b=e.messageQuestion,d=e.description,O=e.disabled,h=function(){i(!1)};return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(Z,{icon:o,handleClick:function(){i(!0)},title:l,disabled:O}),Object(c.jsxs)(g.a,{open:s,onClose:h,children:[Object(c.jsx)(y.a,{id:"alert-dialog-title",children:b}),Object(c.jsx)(w.a,{children:Object(c.jsx)(ee.a,{id:"alert-dialog-description",children:d})}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)(f.a,{onClick:h,color:"primary",autoFocus:!0,children:"Disagree"}),Object(c.jsx)(f.a,{onClick:function(){j(),i(!1)},color:"primary",children:"Agree"})]})]})]})};te.defaultProps={messageQuestion:"Are you sure?",description:"This will be permanently removed from the database."};var ne=te,ce=function(e){var t=e.data,n=e.deleteItem,a=e.pushItemToEdit,r=e.state;return t.map((function(e,t){var s=Object.entries(e),i=e.id;return Object(c.jsxs)(M.a,{component:"tr",children:[Object(c.jsx)(q.a,{component:"td",children:t+1}),Object(c.jsx)(Q,{data:s}),Object(c.jsx)(Z,{handleClick:function(){return a(e)},title:"Edit",icon:Object(c.jsx)($.a,{fontSize:"small"}),disabled:!!r}),Object(c.jsx)(ne,{acceptFunc:function(){return n(i)},title:"Delete",icon:Object(c.jsx)(H.a,{fontSize:"small"}),disabled:!!r})]},i)}))},ae=n(90),re=n.n(ae),se=function(e){var t=e.columnNames,n=e.createNewItem;return console.log(t),Object(c.jsxs)(M.a,{component:"tr",children:[Object(c.jsx)(q.a,{children:t.length?"#":null}),t.map((function(e,t){return Object(c.jsx)(q.a,{children:e},t)})),Object(c.jsx)(Z,{handleClick:n,colSpan:2,title:"Add New",icon:Object(c.jsx)(re.a,{})})]})},ie=n(175),oe=n(176),le=function(e){var t=e.state,n=e.dataToChange,a=e.editItem,r=e.addItem,s=e.updateItem,i=e.cancelInput,o=Object.keys(n);return Object(c.jsxs)(M.a,{component:"tr",children:[Object(c.jsx)(q.a,{}),"isAdding"===t?Object(c.jsx)(q.a,{}):null,o.map((function(e,t){return Object(c.jsx)(q.a,{children:Object(c.jsx)(v.a,{type:"email"===e?"email":"text",value:n[e]||"",onChange:function(t){return a(e,t.target.value)},label:e,required:"true",disabled:"id"===e})},t)})),Object(c.jsx)(Z,{handleClick:"isAdding"===t?r:s,title:"Edit",icon:Object(c.jsx)(ie.a,{fontSize:"small"})}),Object(c.jsx)(Z,{handleClick:i,title:"Cancel",icon:Object(c.jsx)(oe.a,{fontSize:"small"})})]})},je=Object(d.a)({table:{minWidth:600}}),ue=function(e){var t=e.subj,n="/admin/".concat(t),r=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,x(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/").concat(t),{method:"DELETE"});case 3:return e.next=5,r();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y,c=y.id,e.next=5,fetch("".concat(n,"/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return e.sent,e.next=8,r();case 8:T(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y,e.next=4,fetch("".concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return e.sent,e.next=7,r();case 7:T(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/columnNames"));case 3:return t=e.sent,e.next=6,t.json();case 6:return c=e.sent,e.next=9,c.map((function(e){return e.column_name.replace(/\Bid|\Bat$/i,"")}));case 9:a=e.sent,P(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),d=Object(a.useState)([]),O=Object(u.a)(d,2),h=O[0],x=O[1],p=Object(a.useState)(null),f=Object(u.a)(p,2),v=f[0],g=f[1],k=Object(a.useState)({}),w=Object(u.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)([]),I=Object(u.a)(S,2),N=I[0],P=I[1],T=function(){g(null),C({})};Object(a.useEffect)((function(){r(),b()}),[]);var E=je(),A=Object(a.useState)(0),B=Object(u.a)(A,2),Q=B[0],V=B[1],$=Object(a.useState)(5),_=Object(u.a)($,2),H=_[0],K=_[1],X=H-Math.min(H,h.length-Q*H),Y=h.slice(Q*H,Q*H+H);return Object(c.jsx)(a.Fragment,{children:Object(c.jsx)(U.a,{component:z.a,children:Object(c.jsxs)(D.a,{className:E.table,"aria-label":"".concat(t," table"),children:[Object(c.jsx)(G.a,{children:v?Object(c.jsx)(le,{cancelInput:T,dataToChange:y,state:v,updateItem:i,editItem:function(e,t){C(Object(m.a)(Object(m.a)({},y),{},Object(F.a)({},e,t)))},addItem:o}):Object(c.jsx)(se,{columnNames:N,createNewItem:function(){var e=Object(J.a)(N).filter((function(e){return"id"!==e})).reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),{},Object(F.a)({},t,""))}),{});C(e),g("isAdding")}})}),Object(c.jsxs)(L.a,{children:[Object(c.jsx)(ce,{data:Y,deleteItem:s,pushItemToEdit:function(e){C(Object(m.a)({},e)),g("isEditing")},state:v}),X>0&&Object(c.jsx)(M.a,{style:{height:53*X},children:Object(c.jsx)(q.a,{component:"td"})})]}),Object(c.jsx)(R.a,{children:Object(c.jsx)(M.a,{children:Object(c.jsx)(W.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:h.length,rowsPerPage:H,page:Q,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){return V(t)},onChangeRowsPerPage:function(e){K(parseInt(e.target.value,10)),V(0)}})})})]})})})},be=function(e){var t=e.children,n=e.value,a=e.index,r=Object(T.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsx)(E.a,{p:3,children:Object(c.jsx)(p.a,{children:t})})}))},de=function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}},Oe=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:224},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}})),he=function(){var e=Oe(),t=r.a.useState(0),n=Object(u.a)(t,2),a=n[0],s=n[1];return Object(c.jsx)(h.a,{children:Object(c.jsxs)(E.a,{className:e.root,mt:10,children:[Object(c.jsxs)(A.a,{orientation:"vertical",value:a,onChange:function(e,t){s(t)},"aria-label":"Vertical tabs example",className:e.tabs,children:[Object(c.jsx)(B.a,Object(m.a)({label:"Customers"},de(0))),Object(c.jsx)(B.a,Object(m.a)({label:"Masters"},de(1))),Object(c.jsx)(B.a,Object(m.a)({label:"Cities"},de(2))),Object(c.jsx)(B.a,Object(m.a)({label:"Services"},de(3))),Object(c.jsx)(B.a,Object(m.a)({label:"Orders"},de(4)))]}),Object(c.jsx)(be,{value:a,index:0,children:Object(c.jsx)(ue,{subj:"customers"})}),Object(c.jsx)(be,{value:a,index:1,children:Object(c.jsx)(ue,{subj:"masters"})}),Object(c.jsx)(be,{value:a,index:2,children:Object(c.jsx)(ue,{subj:"cities"})}),Object(c.jsx)(be,{value:a,index:3,children:Object(c.jsx)(ue,{subj:"services"})}),Object(c.jsx)(be,{value:a,index:4,children:Object(c.jsx)(ue,{subj:"orders"})})]})})},xe=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],s=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,localStorage.setItem("token",c.token),r(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/auth/verify",{method:"GET",headers:{token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(!0===n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(c.jsxs)(b.a,{children:[Object(c.jsx)(I,{loginUser:s,isAuth:n,logout:function(){localStorage.removeItem("token"),r(!1)}}),Object(c.jsxs)(P.d,{children:[Object(c.jsx)(P.b,{path:"/",exact:!0,component:N}),n?Object(c.jsx)(P.b,{path:"/admin",component:he}):Object(c.jsx)(P.a,{to:"/"})]})]})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(xe,{})}),document.getElementById("root"))},73:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.e4b49fed.chunk.js.map